"use strict";(()=>{var e={};e.id=342,e.ids=[342],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7710:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>y,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>b,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>f});var o={};r.r(o),r.d(o,{GET:()=>c,POST:()=>p,dynamic:()=>l});var a=r(5419),n=r(9108),s=r(9678),i=r(8070),u=r(3214);let l="force-dynamic";async function c(){try{let e=await u.Z.blogPost.findMany({orderBy:{id:"desc"}});return i.Z.json(e)}catch(e){return console.error("Ошибка при чтении постов:",e),i.Z.json({error:"Ошибка при получении списка постов"},{status:500})}}async function p(e){try{let{title:t,content:r,image:o,preview:a}=await e.json();if(!t||!r)return i.Z.json({error:"Необходимо указать заголовок и содержание"},{status:400});let n=await u.Z.blogPost.create({data:{title:t,content:r,preview:a||r.substring(0,100)+"...",image:o||"",date:new Date().toISOString().substring(0,10)}});return i.Z.json(n,{status:201})}catch(e){return console.error("Ошибка при добавлении поста:",e),i.Z.json({error:"Ошибка при добавлении поста"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/blog/route",pathname:"/api/blog",filename:"route",bundlePath:"app/api/blog/route"},resolvedPagePath:"C:\\Users\\bolba\\OneDrive\\Desktop\\mm-finale\\mmhiring\\app\\api\\blog\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:b,headerHooks:h,staticGenerationBailout:f}=d,v="/api/blog/route";function y(){return(0,s.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:m})}},3214:(e,t,r)=>{r.d(t,{Z:()=>o});let o=new(r(3524)).PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(7710));module.exports=o})();